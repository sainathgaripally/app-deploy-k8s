  name: Application Deployment

  on:
    # push:
    #   branches: [ dev, qa, prod ]
    workflow_dispatch:
      inputs:
        environment:
          type: choice
          required: true
          description: Select the environment
          options: [ dev, qa, prod ]
  
  jobs:
    print-job:
      runs-on: ubuntu-latest 
      outputs:
        artifact_name: ${{ steps.step1.outputs.artifact_name }}
      steps:
        - name: Print inputs
          id: step1
          run: | 
            echo "Provided input is ${{ inputs.environment }}"
            echo "artifact_name=some-radom" >> $GITHUB_OUTPUT
    
        - name: Print outputs of step 1
          run: echo "Outputs ${{ steps.step1.outputs.artifact_name }}"

    second-job:
      runs-on: ubuntu-latest
      needs: print-job
      if: needs.print-job.outputs.artifact_name == 'some_random'
      steps:
        - name: Step1
          run: echo "hi"
          
